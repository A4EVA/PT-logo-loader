<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <title>Auto Convert Go to Dart with an Abstract Syntax Tree</title>

    
    <!-- Begin scripts/articles/*-header.html: Article Header for Custom Markdown files processed by rustdoc, like chip8.md -->
<meta property="og:title" 
    content="Auto Convert Go to Dart with an Abstract Syntax Tree" 
    data-rh="true">
<meta property="og:description" 
    content="How we convert Go code to Dart and Flutter automatically with an Abstract Syntax Tree" 
    data-rh="true">
<meta property="og:image" 
    content="https://lupyuen.github.io/images/bloc-ios.jpg">
<meta property="og:type" 
    content="article" data-rh="true">
<!-- End scripts/articles/*-header.html -->
<!-- Begin scripts/rustdoc-header.html: Header for Custom Markdown files processed by rustdoc, like chip8.md -->
<link rel="alternate" type="application/rss+xml" title="RSS Feed for lupyuen" href="/rss.xml" />
<link rel="stylesheet" type="text/css" href="../normalize.css">
<link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle">
<link rel="stylesheet" type="text/css" href="../dark.css">
<link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle">
<script src="../storage.js"></script><noscript>
<link rel="stylesheet" href="../noscript.css"></noscript>
<link rel="shortcut icon" href="../favicon.ico">
<style type="text/css">
    #crate-search {
        background-image: url("../down-arrow.svg");
    }
    a {
        color: #77d;
    }
</style>
<!-- End scripts/rustdoc-header.html -->


</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

        <!-- Begin scripts/rustdoc-before.html: Pre-HTML for Custom Markdown files processed by rustdoc, like chip8.md -->

    <!-- Begin Theme Picker -->
    <div class="theme-picker" style="left: 0"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg"
        width="18" alt="Pick another theme!"></button>
        <div id="theme-choices"></div>
    </div>
    <script src="../theme.js"></script>
    <!-- Theme Picker -->

    <!-- End scripts/rustdoc-before.html -->
    

    <h1 class="title">Auto Convert Go to Dart with an Abstract Syntax Tree</h1>
    <nav id="TOC"><ul>
<li><a href="#why-auto-convert-go-to-dart">1 Why Auto Convert Go to Dart?</a><ul></ul></li>
<li><a href="#manual-conversion-gets-tiring">2 Manual Conversion Gets Tiring</a><ul></ul></li>
<li><a href="#auto-convert-go-struct-to-dart">3 Auto Convert Go Struct to Dart</a><ul></ul></li>
<li><a href="#auto-convert-go-function-to-dart">4 Auto Convert Go Function to Dart</a><ul></ul></li>
<li><a href="#test-auto-conversion">5 Test Auto Conversion</a><ul></ul></li>
<li><a href="#whats-next">6 What's Next</a><ul></ul></li>
<li><a href="#further-reading">7 Further Reading</a><ul></ul></li></ul></nav><p><img src="https://lupyuen.github.io/images/bloc-ios.jpg" alt="Work-in-progress PineTime Companion App on iPhone, converted from Go to Flutter and Dart" /></p>
<p><em>Work-in-progress PineTime Companion App on iPhone, converted from Go to Flutter and Dart</em></p>
<h1 id="why-auto-convert-go-to-dart" class="section-header"><a href="#why-auto-convert-go-to-dart">1 Why Auto Convert Go to Dart?</a></h1>
<p>TODO</p>
<h1 id="manual-conversion-gets-tiring" class="section-header"><a href="#manual-conversion-gets-tiring">2 Manual Conversion Gets Tiring</a></h1>
<p>TODO</p>
<h1 id="auto-convert-go-struct-to-dart" class="section-header"><a href="#auto-convert-go-struct-to-dart">3 Auto Convert Go Struct to Dart</a></h1>
<p>TODO</p>
<h1 id="auto-convert-go-function-to-dart" class="section-header"><a href="#auto-convert-go-function-to-dart">4 Auto Convert Go Function to Dart</a></h1>
<p>TODO</p>
<h1 id="test-auto-conversion" class="section-header"><a href="#test-auto-conversion">5 Test Auto Conversion</a></h1>
<p>TODO</p>
<h1 id="whats-next" class="section-header"><a href="#whats-next">6 What's Next</a></h1>
<p>The code in this article is part of the upcoming open source <a href="https://github.com/lupyuen/pinetime-companion"><strong>PineTime Companion App</strong></a> for Android and iOS. So that we can update the firmware on our PineTime Smart Watches wirelessly, sync the date and time, show notifications from our phone, chart our heart rate, ... Maybe even control our smart home gadgets! </p>
<p>We'll be doing lots more coding...</p>
<ol>
<li>
<p><strong>Handle Other PineTime Commands:</strong> Update firmware, sync date and time, show mobile notifications, control smart home gadgets (via IFTTT and MQTT), ...</p>
<p>We shall do this by taking the <a href="https://github.com/apache/mynewt-newtmgr">Newt Manager</a> code in Go and converting it to Flutter and Dart, as explained here...</p>
<p><em><a href="https://lupyuen.github.io/pinetime-rust-mynewt/articles/companion">&quot;Convert Go to Flutter and Dart for PineTime Companion App&quot;</a></em></p>
</li>
<li>
<p><strong>Companion App for Linux Phones (like PinePhone):</strong> We shall take the <a href="https://github.com/apache/mynewt-newtmgr">Newt Manager</a> code in Go and wrap it into a GTK3 app, using the <a href="https://github.com/gotk3/gotk3"><code>gotk3</code> library</a>...</p>
<p><em><a href="https://lupyuen.github.io/pinetime-rust-mynewt/articles/gotk3">&quot;Your First GTK App with Go and VSCodium&quot;</a></em></p>
</li>
<li>
<p><strong>PineTime Firmware Support:</strong> Today our PineTime Companion App talks to Mynewt and Zephyr operating systems on PineTime. We hope to implement the same Bluetooth LE protocol (Simple Management Protocol) on other operating systems, so that they may also enjoy wireless firmware updates...</p>
<p><em><a href="https://lupyuen.github.io/pinetime-rust-mynewt/articles/dfu">&quot;Firmware Update over Bluetooth Low Energy on PineTime Smart Watch&quot;</a></em></p>
</li>
</ol>
<p><em>Why are we maintaining two code bases: Flutter (for Android and iOS) and Go (for Linux phones)?</em></p>
<p>Because Flutter is probably the best way to build mobile apps... But it's not officially supported for Linux phones.  The <code>flutter_blue</code> plugin doesn't support Linux either.</p>
<p>So we need to stick with Go for Linux phones.</p>
<p>We're now exploring <a href="https://github.com/go-flutter-desktop/go-flutter"><strong><code>go-flutter</code></strong></a> for porting the Flutter App to Linux. And recode <code>flutter_blue</code> via FFI to a Linux Bluetooth LE library (in Go or C).</p>
<p><em>(Maybe someday when Flutter is officially supported on Linux phones, we can scrap the Go version!)</em></p>
<p>If you're keen to help out with the PineTime Companion App (or anything else in PineTime), <strong>come chat with the PineTime FOSS Community (and me) in the PineTime Chatroom!</strong></p>
<p><a href="https://wiki.pine64.org/index.php/PineTime#Community">PineTime Chatroom on Matrix / Discord / Telegram / IRC</a></p>
<h1 id="further-reading" class="section-header"><a href="#further-reading">7 Further Reading</a></h1>
<p><em><a href="https://lupyuen.github.io/pinetime-rust-mynewt/articles/companion">&quot;Convert Go to Flutter and Dart for PineTime Companion App&quot;</a></em></p>
<p><em><a href="https://lupyuen.github.io/pinetime-rust-mynewt/articles/flutter">&quot;Your First Bluetooth Low Energy App with Flutter&quot;</a></em></p>
<p><em><a href="https://lupyuen.github.io/pinetime-rust-mynewt/articles/gotk3">&quot;Your First GTK App with Go and VSCodium&quot;</a></em></p>
<p><em><a href="https://lupyuen.github.io/pinetime-rust-mynewt/articles/mcuboot">&quot;MCUBoot Bootloader for PineTime Smart Watch (nRF52)&quot;</a></em></p>
<p><em><a href="https://lupyuen.github.io/pinetime-rust-mynewt/articles/dfu">&quot;Firmware Update over Bluetooth Low Energy on PineTime Smart Watch&quot;</a></em></p>
<p><em><a href="https://lupyuen.github.io/pinetime-rust-mynewt/articles/dfutest">&quot;Wireless Firmware Update In Action on PineTime Smart Watch (nRF52)&quot;</a></em></p>
<p><a href="https://github.com/lupyuen/pinetime-rust-mynewt/blob/master/README.md">Check out the other PineTime articles</a></p>
<p><a href="https://lupyuen.github.io/rss.xml">RSS Feed</a></p>

    
</body>
</html>